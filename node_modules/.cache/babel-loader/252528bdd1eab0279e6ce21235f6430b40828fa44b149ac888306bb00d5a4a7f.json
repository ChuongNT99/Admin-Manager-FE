{"ast":null,"code":"const express = require(\"express\");\nconst {\n  addEmployee,\n  getAllEmployees,\n  getEmployee,\n  updateAddress,\n  deleteEmployee,\n  getAllDepartments\n} = require(\"./utils/queryHelpers\");\nconst app = express();\nconst cors = require(\"cors\");\nconst genericError = \"Sorry, something went wrong!\";\napp.use(express.json());\nconst whitelist = [\"http://localhost:3001\"]; //Change to the port in which react app is running\nconst corsOptions = {\n  origin: function (origin, callback) {\n    if (!origin || whitelist.indexOf(origin) !== -1) {\n      callback(null, true);\n    } else {\n      callback(new Error(\"Not allowed by CORS\"));\n    }\n  },\n  credentials: true\n};\napp.use(cors(corsOptions));\napp.get(\"/departments\", async function (request, response) {\n  try {\n    const [result] = await getAllDepartments();\n    response.send({\n      success: true,\n      result\n    });\n  } catch (error) {\n    response.status(500).send({\n      success: false,\n      error: genericError\n    });\n  }\n});\n//...","map":{"version":3,"names":["express","require","addEmployee","getAllEmployees","getEmployee","updateAddress","deleteEmployee","getAllDepartments","app","cors","genericError","use","json","whitelist","corsOptions","origin","callback","indexOf","Error","credentials","get","request","response","result","send","success","error","status"],"sources":["D:/app/src/index.js"],"sourcesContent":["const express = require(\"express\")\nconst {\n  addEmployee,\n  getAllEmployees,\n  getEmployee,\n  updateAddress,\n  deleteEmployee,\n  getAllDepartments,\n} = require(\"./utils/queryHelpers\")\nconst app = express()\nconst cors = require(\"cors\")\n\nconst genericError = \"Sorry, something went wrong!\"\n\napp.use(express.json())\n\nconst whitelist = [\"http://localhost:3001\"] //Change to the port in which react app is running\nconst corsOptions = {\n  origin: function (origin, callback) {\n    if (!origin || whitelist.indexOf(origin) !== -1) {\n      callback(null, true)\n    } else {\n      callback(new Error(\"Not allowed by CORS\"))\n    }\n  },\n  credentials: true,\n}\napp.use(cors(corsOptions))\n\napp.get(\"/departments\", async function (request, response) {\n  try {\n    const [result] = await getAllDepartments()\n    response.send({ success: true, result })\n  } catch (error) {\n    response.status(500).send({\n      success: false,\n      error: genericError,\n    })\n  }\n})\n//...\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EACJC,WAAW;EACXC,eAAe;EACfC,WAAW;EACXC,aAAa;EACbC,cAAc;EACdC;AACF,CAAC,GAAGN,OAAO,CAAC,sBAAsB,CAAC;AACnC,MAAMO,GAAG,GAAGR,OAAO,CAAC,CAAC;AACrB,MAAMS,IAAI,GAAGR,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAMS,YAAY,GAAG,8BAA8B;AAEnDF,GAAG,CAACG,GAAG,CAACX,OAAO,CAACY,IAAI,CAAC,CAAC,CAAC;AAEvB,MAAMC,SAAS,GAAG,CAAC,uBAAuB,CAAC,EAAC;AAC5C,MAAMC,WAAW,GAAG;EAClBC,MAAM,EAAE,SAAAA,CAAUA,MAAM,EAAEC,QAAQ,EAAE;IAClC,IAAI,CAACD,MAAM,IAAIF,SAAS,CAACI,OAAO,CAACF,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;MAC/CC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC;IACtB,CAAC,MAAM;MACLA,QAAQ,CAAC,IAAIE,KAAK,CAAC,qBAAqB,CAAC,CAAC;IAC5C;EACF,CAAC;EACDC,WAAW,EAAE;AACf,CAAC;AACDX,GAAG,CAACG,GAAG,CAACF,IAAI,CAACK,WAAW,CAAC,CAAC;AAE1BN,GAAG,CAACY,GAAG,CAAC,cAAc,EAAE,gBAAgBC,OAAO,EAAEC,QAAQ,EAAE;EACzD,IAAI;IACF,MAAM,CAACC,MAAM,CAAC,GAAG,MAAMhB,iBAAiB,CAAC,CAAC;IAC1Ce,QAAQ,CAACE,IAAI,CAAC;MAAEC,OAAO,EAAE,IAAI;MAAEF;IAAO,CAAC,CAAC;EAC1C,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdJ,QAAQ,CAACK,MAAM,CAAC,GAAG,CAAC,CAACH,IAAI,CAAC;MACxBC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAEhB;IACT,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}